<?xml version='1.0' encoding='UTF-8'?>
<rss 
version="2.0" xmlns:iffy="http://tech.interfluidity.com/xml/iffy/" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/">
  <channel>
    <title>tech — interfluidity</title>
    <link>https://tech.interfluidity.com/index.html</link>
    <description><![CDATA[Feed for blog 'tech — interfluidity', generated by unstatic]]></description>
    <language>en-us</language>
    <lastBuildDate>Sat, 22 Jun 2024 22:32:14 -0400</lastBuildDate>
    <generator>https://github.com/swaldman/unstatic</generator>
    <docs>https://cyber.harvard.edu/rss/rss.html</docs>
    <atom:link type="application/rss+xml" rel="self" href="https://tech.interfluidity.com/feed/index.rss"/>
    <iffy:completeness>Content</iffy:completeness>
    <item>
      <pubDate>Sat, 22 Jun 2024 21:35:00 -0400</pubDate>
      <guid isPermalink="true">
        https://tech.interfluidity.com/2024/06/22/condensing-updates-that-appear-in-digests/index.html
      </guid>
      <description>
        <![CDATA[In the previous post, I claimed to be "finished" my exploration of handling updates. Ha! I don't like how my update notifications appear in digests — in e-mail newsletters that gather up all the posts over a period of time. There are two problems: Update notifications appear in digests as separate, cookie-cutter posts, which bury and dilute "real" posts. On websites, we can make synthetic update posts visually distinct to help guide visitors past them. We could do that in HTML mail digests too,...]]>
      </description>
      <link>https://tech.interfluidity.com/2024/06/22/condensing-updates-that-appear-in-digests/index.html</link>
      <title>Condensing updates that appear in digests</title>
      <dc:creator><![CDATA[Steve Randy Waldman]]></dc:creator>
      <content:encoded>
        <![CDATA[<article class="presentation-rss">
 <div class="entry-header">
 </div>
 <div class="entry-body">
  <div class="flexmark markdown">
   <p>In the <a href="https://tech.interfluidity.com/2024/06/20/sprouted/index.html">previous post</a>, I claimed to be "finished" my exploration of handling updates.</p>
   <p>Ha!</p>
   <p>I don't like how my update notifications appear in digests — in e-mail newsletters that gather up all the posts over a period of time.</p>
   <p>There are two problems:</p>
   <ol>
    <li>
     <p><strong>Update notifications appear in digests as separate, cookie-cutter posts, which bury and dilute "real" posts.</strong></p>
     <p>On websites, we can make synthetic update posts visually distinct to help guide visitors past them. We could do that in HTML mail digests too, but I think update posts will still put people off actually reading new material when they are going quickly through their e-mail, particularly when updates are more recent and therefore come before the "real" posts.</p></li>
    <li>
     <p><strong>Updates appear even for posts that are included in the current digest.</strong></p>
     <p><a href="https://tech.interfluidity.com/2024/01/29/feedletter-tutorial/index.html"><em>feedletter</em></a> digests always include the most recently seen version of a post, so from the digest reader's perspective, the "update" notification tells them about nothing that isn't already in the post.</p></li>
   </ol>
   <p>To address this, I mean to do a bunch of things.</p>
   <ol>
    <li>
     <p>I'm going to modify the definition of <a href="https://tech.interfluidity.com/xml/iffy/index.html#iffy-synthetic"><code>iffy:synthetic</code></a>, reversing course on my my current admonition that</p>
     <blockquote>
      <p>Applications that include <code>iffy:synthetic</code> as a direct child of channel SHOULD NOT also mark individual <code>item</code>s as <code>iffy:synthetic</code>, unless there is some meaningful sense in which some items are <em>more</em> synthetic than others. It serves no purpose to mark every item of a feed <code>iffy:synthetic</code> when the channel is already so marked.</p>
     </blockquote>
     <p>Never mind.</p>
     <p>Until now, <a href="https://tech.interfluidity.com/xml/iffy/index.html#iffy-synthetic"><code>iffy:synthetic</code></a> has been basically just a marker, so there was no point in marking posts twice. Marking at the <code>channel</code> level implied the syntheticness and the types at the item level.</p>
     <p>But now we'll reconceive of <a href="https://tech.interfluidity.com/xml/iffy/index.html#iffy-synthetic"><code>iffy:synthetic</code></a> as also the carrier of the data on which the item content (in <a href="https://www.rssboard.org/rss-specification#hrelementsOfLtitemgt"><code>description</code></a>, <a href="https://www.rssboard.org/rss-profile#namespace-elements-content-encoded"><code>content:encoded</code></a>, or <a href="https://datatracker.ietf.org/doc/html/rfc4287#section-4.1.3"><code>atom:content</code></a>) is based.</p>
     <p>The item content, of course, remains the post's HTML, whether it is a synthetic post or not. But we'll want the information we used to <em>compose</em> synthetic posts to be available, in an <a href="https://tech.interfluidity.com/xml/iffy/index.html#iffy-type"><code>iffy:type</code></a>-dependent way, inside <code>item &gt; iffy:synthetic</code>. So even when a <code>channel</code> is marked synthetic, with a type that implies the type of elements, we will want explicitly to include an <a href="https://tech.interfluidity.com/xml/iffy/index.html#iffy-synthetic"><code>iffy:synthetic</code></a> element in each item.</p>
     <p>For synthethic items of type <code>UpdateAnnouncement</code> — the relevant case here — we've already defined an element that carries most the relevant data, <a href="https://tech.interfluidity.com/xml/iffy/index.html#iffy-update"><code>iffy:update</code></a>.</p>
     <p>We'll also need the <code>guid</code> of the post updated. So we'll <a href="https://tech.interfluidity.com/xml/iffy/index-oldcommit-394986cb8d9c57f567d324e691a44d50102101ce.html#iffy-original-guid">bring back</a> <code>iffy:original-guid</code>, with a slightly modified role.</p></li>
    <li>
     <p>I'll define a <a href="https://tech.interfluidity.com/2024/01/29/feedletter-tutorial/index.html#16-advanced-customize-the-content"><em>feedletter</em> content <code>Customizer</code></a> that</p>
     <ol>
      <li>filters away upates to <code>items</code> already in the post;</li>
      <li>combines the remaining updates into a single notification post; and</li>
      <li>places that notification post at the end of the digest.</li>
     </ol></li>
   </ol>
   <p>So. We have a plan!</p>
   <p>Let's see if it works.</p>
  </div>
 </div>
 <div class="entry-footer">
  <div class="post-metainfo">
   <hr>
   <div>
    by Steve Randy Waldman on 2024-06-22 @ <a href="https://tech.interfluidity.com/2024/06/22/condensing-updates-that-appear-in-digests/index.html" class="pubtime">09:35 PM EDT</a>
   </div>
  </div>
 </div>
</article>
<div class="after-article">
</div><!-- after-article -->]]>
      </content:encoded>
    </item>
    <item>
      <pubDate>Thu, 20 Jun 2024 17:50:00 -0400</pubDate>
      <guid isPermalink="true">
        https://tech.interfluidity.com/2024/06/20/sprouted/index-updated-2024-06-20-17-50-00.html
      </guid>
      <description>
        <![CDATA[A significant update of Sprouted was made on 2024-06-20 @ 05:50 PM EDT. → Add bold update crediting Maggie Appleton for some of these ideas. The post was originally published 2024-06-20 @ 03:05 PM EDT. This is an automatically generated post. by Update-o-Bot on 2024-06-20 @ 05:50 PM...]]>
      </description>
      <link>https://tech.interfluidity.com/2024/06/20/sprouted/index-updated-2024-06-20-17-50-00.html</link>
      <title>Updated: Sprouted</title>
      <iffy:synthetic>
        <iffy:type>UpdateAnnouncement</iffy:type>
        <iffy:original-guid>https://tech.interfluidity.com/2024/06/20/sprouted/index.html</iffy:original-guid>
        <iffy:update>
          <atom:updated>2024-06-20T21:50:00Z</atom:updated>
          <atom:summary><![CDATA[Add bold update crediting Maggie Appleton for some of these ideas.]]></atom:summary>
          <iffy:revision>
            https://tech.interfluidity.com/2024/06/20/sprouted/index-oldcommit-f22b4df6db0c2b09d42406fce93175d3fb7e1ed5.html
          </iffy:revision>
          <iffy:diff>
            https://tech.interfluidity.com/2024/06/20/sprouted/index-diff-f22b4df6db0c2b09d42406fce93175d3fb7e1ed5-to-current.html
          </iffy:diff>
        </iffy:update>
      </iffy:synthetic>
      <dc:creator><![CDATA[Update-o-Bot]]></dc:creator>
      <iffy:hint-announce>
        <iffy:policy>Piggyback</iffy:policy>
      </iffy:hint-announce>
      <content:encoded>
        <![CDATA[<article class="presentation-rss synthetic">
 <div class="entry-header">
 </div>
 <div class="entry-body">
  <p>A significant update of <a href="https://tech.interfluidity.com/2024/06/20/sprouted/index.html"><i>Sprouted</i></a> was made on 2024-06-20 @ 05:50 PM EDT.</p>
  <blockquote>
   → Add bold update crediting Maggie Appleton for some of these ideas.
  </blockquote>
  <p>The post was originally published 2024-06-20 @ 03:05 PM EDT.</p>
 </div>
 <div class="entry-footer">
  <div class="post-metainfo">
   <hr>
   <div class="synthetic-note">
    <em>This is an automatically generated post.</em>
   </div>
   <div>
    by Update-o-Bot on 2024-06-20 @ <a href="https://tech.interfluidity.com/2024/06/20/sprouted/index-updated-2024-06-20-17-50-00.html" class="pubtime">05:50 PM EDT</a>
   </div>
  </div>
 </div>
</article>
<div class="after-article">
</div><!-- after-article -->]]>
      </content:encoded>
    </item>
    <item>
      <pubDate>Thu, 20 Jun 2024 15:05:00 -0400</pubDate>
      <guid isPermalink="true">https://tech.interfluidity.com/2024/06/20/sprouted/index.html</guid>
      <description>
        <![CDATA[I've finally "finished" my reaction to Chris Krycho's provocation, Feeds are Not Fit for Gardening. (ht Erlend Sogge Heggen). I think I now have infrastructure sufficient to publish evolving content, that might start as an unfinished sketch and "blossom" over time (and with help and interaction from you, dear reader). The approach I've taken — of course since I am an RSS fanboy — is to graft what I need on top of existing RSS infrastructure. Among RSS infrastructure, I include both conventional...]]>
      </description>
      <link>https://tech.interfluidity.com/2024/06/20/sprouted/index.html</link>
      <title>Sprouted</title>
      <dc:creator><![CDATA[Steve Randy Waldman]]></dc:creator>
      <atom:updated>2024-06-20T21:50:00Z</atom:updated>
      <content:encoded>
        <![CDATA[<article class="presentation-rss uid-sprouted">
 <div class="entry-header">
 </div>
 <div class="entry-body">
  <div class="flexmark markdown">
   <p>I've finally "finished" my reaction to Chris Krycho's provocation, <a href="https://v5.chriskrycho.com/essays/feeds-are-not-fit-for-gardening/"><em>Feeds are Not Fit for Gardening</em></a>. (ht <a href="https://mastodon.social/@erlend@writing.exchange">Erlend Sogge Heggen</a>).</p>
   <p>I think I now have infrastructure sufficient to publish evolving content, that might start as an unfinished sketch and "blossom" over time (and with help and interaction from you, dear reader).</p>
   <p>The approach I've taken — of course since I am an RSS fanboy — is to graft what I need on top of existing RSS infrastructure. Among RSS infrastructure, I include both conventional feed readers and "announcers": RSS consumers that notify parties about new items in ways that may be more disruptive than just another item in a well-populated feed.</p>
   <p>An example on an announcer is my own <a href="https://tech.interfluidity.com/2024/01/29/feedletter-tutorial/index.html"><em>feedletter</em></a>, which notifies RSS items by e-mailing posts one at a time or in digests, and also by posting to Mastodon.</p>
   <p>My approach is quite manual. No software determines when an "update" has been made. "Tweaks" — which may include correcting typos, reworking sentences, or even rewriting whole paragraphs without changing the intended meaning — shouldn't be notified as updates. Modifications, however big or small, that substantially augment or alter the content of the item usually should be notified. In my view, which is which is the author's judgment call. So authors manually add an item to their post's <em>update history</em> when they wish to provoke such a notification.</p>
   <p>Once authors begin to define an update history, that history becomes appended to the end of posts. <a href="https://tech.interfluidity.com/xml/iffy/index.html#update-history">Example</a>.</p>
   <p>When authors declare a meaningful update, all they <em>must</em> provide is a timestamp. An <a href="https://datatracker.ietf.org/doc/html/rfc4287#section-4.2.15"><code>atom:updated</code></a> element will be included in the RSS item with that timestamp.</p>
   <p>Authors also <em>may</em> provide a description, a "revision-spec" (usually a git commit identifier) for the revision superceded, and an author list (if authorship as well as content is changing with the update). <a href="https://tech.interfluidity.com/2024/06/02/green-shoots-of-sprouts/index.html#example-update-history">Example</a>.</p>
   <p>The more authors provide, the richer the update history. Update histories will include any description given, along with links to the prior ("superceded") revision, and a diff between the updated post and the superceded revision.</p>
   <p>Whenever a new update is declared, a synthetic post will be produced, whose publication date is the moment of the update, announcing the update. <a href="https://tech.interfluidity.com/2024/01/29/feedletter-tutorial/index-updated-2024-06-20-13-10-00.html">Example</a>.</p>
   <p>That post will have its own RSS <a href="https://www.rssboard.org/rss-specification#ltguidgtSubelementOfLtitemgt"><code>guid</code></a> and permalink. So, without requiring any change to the behavior of existing feed readers, followers will be notified of these updates.</p>
   <p>The RSS items generated for these updates will be marked "<a href="https://tech.interfluidity.com/xml/iffy/index.html#iffy-synthetic">synthetic</a>", of "<a href="https://tech.interfluidity.com/xml/iffy/index.html#iffy-type">type</a>" <code>UpdateAnnouncement</code>, so that announcers (for the moment only my <i>feedletter</i>, but please join in!) can decide whether they wish to notify these items.</p>
   <p>They include a "<a href="https://tech.interfluidity.com/xml/iffy/index.html#iffy-hint-announce">hint</a>" for announcers to adopt a <code>Piggyback</code> policy, meaning the synthetic update notifications should be included in digests and other multi-post announcements that include at least one not-piggyback post, but they should not trigger announcements on their own. Announcers are free to follow this hint, or to make a different choice.</p>
   <p>For subscribers to notication services that accept the hint, synthetic update posts will not cause people to get spammed with "here's an update!" messages. That would be annoying. On the other hand, e-mail subscribers will not be notified of all updates to existing posts. One-at-a-time subscribers will see none of the update notifications. Digest subscribers will see update notifications only when the digest would also include at least one "organic" post. There is a trade-off to navigate between annoyance and information.</p>
   <p>For posts intended to evolve over time, that might invite the attention of particular followers or collaborators, authors can explicitly declare a post to be a "sprout". <a href="https://tech.interfluidity.com/2024/06/02/green-shoots-of-sprouts/index.html#example-update-history">Example</a>.</p>
   <p>The term is taken from Chris Krycho's <a href="https://tech.interfluidity.com/2024/06/20/sprouted/(https://v5.chriskrycho.com/essays/feeds-are-not-fit-for-gardening/)">essay</a>. These posts will be accompanied by their own RSS feeds (<a href="https://tech.interfluidity.com/xml/iffy/index-sprout.rss">example</a>), and will track declared updates only to that particular item. The implementation is not great — ideally each notification would include and highlight the changes — but so far my diffs are too lame for that. However, subscribers will be notified, via a dedicated feed, of each update to evolving items that they mean attentively to follow.</p>
   <p>Obviously, nothing is really "finished". Everything in life is a garden!</p>
   <p>But I think that this is enough that I can start sketching and evolving posts intended to develop over time, rather than finished-product "atomic" posts.</p>
   <p>Thanks to Chris Krycho and Erlend Sogge Heggen for inspiring me to think about all this!</p>
   <hr>
   <p><strong>Update:</strong> Chris Krycho <a href="https://x.com/chriskrycho/status/1803903739419332636">credits</a> <a href="https://x.com/Mappletons">Maggie Appleton</a> for some of these ideas, so I will too!</p>
  </div>
 </div>
 <div class="entry-footer">
  <div class="post-metainfo">
   <hr>
   <div class="updated-note">
    <a href="https://tech.interfluidity.com/2024/06/20/sprouted/index.html#major-updates">Last major update at 2024-06-20 @ 05:50 PM EDT</a>
   </div>
   <div>
    by Steve Randy Waldman on 2024-06-20 @ <a href="https://tech.interfluidity.com/2024/06/20/sprouted/index.html" class="pubtime">03:05 PM EDT</a>
   </div>
  </div>
 </div>
</article>
<div class="after-article">
</div><!-- after-article -->]]>
      </content:encoded>
      <iffy:update-history>
        <iffy:update>
          <atom:updated>2024-06-20T21:50:00Z</atom:updated>
          <atom:summary><![CDATA[Add bold update crediting Maggie Appleton for some of these ideas.]]></atom:summary>
          <iffy:revision>
            https://tech.interfluidity.com/2024/06/20/sprouted/index-oldcommit-f22b4df6db0c2b09d42406fce93175d3fb7e1ed5.html
          </iffy:revision>
          <iffy:diff>
            https://tech.interfluidity.com/2024/06/20/sprouted/index-diff-f22b4df6db0c2b09d42406fce93175d3fb7e1ed5-to-current.html
          </iffy:diff>
        </iffy:update>
      </iffy:update-history>
    </item>
    <item>
      <pubDate>Thu, 20 Jun 2024 13:10:00 -0400</pubDate>
      <guid isPermalink="true">
        https://tech.interfluidity.com/2024/01/29/feedletter-tutorial/index-updated-2024-06-20-13-10-00.html
      </guid>
      <description>
        <![CDATA[A significant update of Feedletter tutorial was made on 2024-06-20 @ 01:10 PM EDT. → Add note to Section 16, "Advanced: Customize the content" documenting feedletter API changes that slightly modify this section of the tutorial. The post was originally published 2024-01-29 @ 10:30 AM EST. This is an automatically generated post. by Update-o-Bot on 2024-06-20 @ 01:10 PM...]]>
      </description>
      <link>https://tech.interfluidity.com/2024/01/29/feedletter-tutorial/index-updated-2024-06-20-13-10-00.html</link>
      <title>Updated: Feedletter tutorial</title>
      <iffy:synthetic>
        <iffy:type>UpdateAnnouncement</iffy:type>
        <iffy:original-guid>https://tech.interfluidity.com/2024/01/29/feedletter-tutorial/index.html</iffy:original-guid>
        <iffy:update>
          <atom:updated>2024-06-20T17:10:00Z</atom:updated>
          <atom:summary>
            <![CDATA[Add note to Section 16, "Advanced: Customize the content" documenting <i>feedletter</i> API changes that slightly modify this section of the tutorial.]]>
          </atom:summary>
          <iffy:revision>
            https://tech.interfluidity.com/2024/01/29/feedletter-tutorial/index-oldcommit-acb84c08c1bbcc83036b9cad70f6a3c5d60865c4.html
          </iffy:revision>
          <iffy:diff>
            https://tech.interfluidity.com/2024/01/29/feedletter-tutorial/index-diff-acb84c08c1bbcc83036b9cad70f6a3c5d60865c4-to-current.html
          </iffy:diff>
        </iffy:update>
      </iffy:synthetic>
      <dc:creator><![CDATA[Update-o-Bot]]></dc:creator>
      <iffy:hint-announce>
        <iffy:policy>Piggyback</iffy:policy>
      </iffy:hint-announce>
      <content:encoded>
        <![CDATA[<article class="presentation-rss synthetic">
 <div class="entry-header">
 </div>
 <div class="entry-body">
  <p>A significant update of <a href="https://tech.interfluidity.com/2024/01/29/feedletter-tutorial/index.html"><i>Feedletter tutorial</i></a> was made on 2024-06-20 @ 01:10 PM EDT.</p>
  <blockquote>
   → Add note to Section 16, "Advanced: Customize the content" documenting <i>feedletter</i> API changes that slightly modify this section of the tutorial.
  </blockquote>
  <p>The post was originally published 2024-01-29 @ 10:30 AM EST.</p>
 </div>
 <div class="entry-footer">
  <div class="post-metainfo">
   <hr>
   <div class="synthetic-note">
    <em>This is an automatically generated post.</em>
   </div>
   <div>
    by Update-o-Bot on 2024-06-20 @ <a href="https://tech.interfluidity.com/2024/01/29/feedletter-tutorial/index-updated-2024-06-20-13-10-00.html" class="pubtime">01:10 PM EDT</a>
   </div>
  </div>
 </div>
</article>
<div class="after-article">
</div><!-- after-article -->]]>
      </content:encoded>
    </item>
    <item>
      <pubDate>Thu, 20 Jun 2024 11:05:00 -0400</pubDate>
      <guid isPermalink="true">https://tech.interfluidity.com/xml/iffy/index-updated-2024-06-20-11-05-00.html</guid>
      <description>
        <![CDATA[A significant update of The 'iffy' XML namespace was made on 2024-06-20 @ 11:05 AM EDT. → Document iffy:type, update documentation of iffy:synthetic as optionally including iffy:type. The post was originally published 2024-05-13 @ 04:10 AM EDT. This is an automatically generated post. by Update-o-Bot on 2024-06-20 @ 11:05 AM...]]>
      </description>
      <link>https://tech.interfluidity.com/xml/iffy/index-updated-2024-06-20-11-05-00.html</link>
      <title>Updated: The 'iffy' XML namespace</title>
      <iffy:synthetic>
        <iffy:type>UpdateAnnouncement</iffy:type>
        <iffy:original-guid>https://tech.interfluidity.com/xml/iffy/index.html</iffy:original-guid>
        <iffy:update>
          <atom:updated>2024-06-20T15:05:00Z</atom:updated>
          <atom:summary>
            <![CDATA[Document <code>iffy:type</code>, update documentation of <code>iffy:synthetic</code> as optionally including <code>iffy:type</code>.]]>
          </atom:summary>
          <iffy:revision>
            https://tech.interfluidity.com/xml/iffy/index-oldcommit-f19e4870e2c719f71d2f5024cb3e2e8f477622dc.html
          </iffy:revision>
          <iffy:diff>
            https://tech.interfluidity.com/xml/iffy/index-diff-f19e4870e2c719f71d2f5024cb3e2e8f477622dc-to-current.html
          </iffy:diff>
        </iffy:update>
      </iffy:synthetic>
      <dc:creator><![CDATA[Update-o-Bot]]></dc:creator>
      <iffy:hint-announce>
        <iffy:policy>Piggyback</iffy:policy>
      </iffy:hint-announce>
      <content:encoded>
        <![CDATA[<article class="presentation-rss synthetic">
 <div class="entry-header">
 </div>
 <div class="entry-body">
  <p>A significant update of <a href="https://tech.interfluidity.com/xml/iffy/index.html"><i>The 'iffy' XML namespace</i></a> was made on 2024-06-20 @ 11:05 AM EDT.</p>
  <blockquote>
   → Document <code>iffy:type</code>, update documentation of <code>iffy:synthetic</code> as optionally including <code>iffy:type</code>.
  </blockquote>
  <p>The post was originally published 2024-05-13 @ 04:10 AM EDT.</p>
 </div>
 <div class="entry-footer">
  <div class="post-metainfo">
   <hr>
   <div class="synthetic-note">
    <em>This is an automatically generated post.</em>
   </div>
   <div>
    by Update-o-Bot on 2024-06-20 @ <a href="https://tech.interfluidity.com/xml/iffy/index-updated-2024-06-20-11-05-00.html" class="pubtime">11:05 AM EDT</a>
   </div>
  </div>
 </div>
</article>
<div class="after-article">
</div><!-- after-article -->]]>
      </content:encoded>
    </item>
    <item>
      <pubDate>Sun, 16 Jun 2024 19:10:00 -0400</pubDate>
      <guid isPermalink="true">https://tech.interfluidity.com/2024/06/16/html-iconography/index.html</guid>
      <description>
        <![CDATA[My web skillz are very old-school. I only recently learned we're not supposed to use <tt> anymore. (<code> is what the kids use.) We're not supposed to use <a name="whatev"> for our in-document link targets. We should just use <a id="whatev">. (To be fair, it's pretty cool the targets don't have to be <a> tags any more.) Anyway, back in my day, to add little icons that might represent your website, we just added a 16x16 pixel /favicon.ico file in some weird, nonstandard Microsoft image format....]]>
      </description>
      <link>https://tech.interfluidity.com/2024/06/16/html-iconography/index.html</link>
      <title>HTML iconography</title>
      <dc:creator><![CDATA[Steve Randy Waldman]]></dc:creator>
      <atom:updated>2024-06-17T18:35:00Z</atom:updated>
      <content:encoded>
        <![CDATA[<article class="presentation-rss">
 <div class="entry-header">
 </div>
 <div class="entry-body">
  <div class="flexmark markdown">
   <p>My web skillz are very old-school.</p>
   <p>I only recently learned we're not supposed to use <code>&lt;tt&gt;</code> anymore. (<code>&lt;code&gt;</code> is what the kids use.) We're not supposed to use <code>&lt;a name="whatev"&gt;</code> for our in-document link targets. We should just use <code>&lt;a id="whatev"&gt;</code>.</p>
   <p>(To be fair, it's pretty cool the targets don't have to be <code>&lt;a&gt;</code> tags any more.)</p>
   <p>Anyway, back in my day, to add little icons that might represent your website, we just added a 16x16 pixel <code>/favicon.ico</code> file in some weird, nonstandard Microsoft image format.</p>
   <p>Thank you <em>Internet Explorer</em>, the very first evil internet silo that kids these days have never encountered!</p>
   <p>My ancient <a href="https://www.interfluidity.com/">"interfluidity main" site</a> has one of those old-school <code>/favicon.ico</code> files, and I'm not messing with it. But I thought I'd add fresh icons for this site and <a href="https://drafts.interfluidity.com/"><em>interfluidity drafts</em></a>. One 16x16 icon file isn't enough for the modern world. Your site might need an icon on a phone, a tablet, a watch, whatver. Android and Apple devices treat icons differently. Firefox, I discovered, chooses icons differently than other browsers.</p>
   <p>The best resource I found to help make sense of the brave new world of website icons was <a href="https://mathiasbynens.be/notes/touch-icons">an article by Mathias Bynens</a>.</p>
   <p>That article's last update was in 2013, so maybe it's not current? It's a decade newer than my old habits, so hey.</p>
   <p>I used <a href="https://affinity.serif.com/en-us/photo/"><em>Affinity Photo</em></a> to take the photo I use as an avatar on social media, and label it, for this website as "tech". For prettiness as icons on mobile devices, I also needed to give it rounded corners. I wanted to select a rectangle, round the corners, then invert the selection, and delete to transparent to make rounded corners.</p>
   <p>That'a basically what I did, but there's nowhere to set a corner radius on a straight-up rectangualar selection in <em>Affinity Photo</em>.</p>
   <p>However, there is a rounded rectangle drawing tool, which draws on its own layer, and — very useful to know! — there is a <a href="https://forum.affinity.serif.com/index.php?/topic/45495-affinity-photo-how-to-create-rounded-corners/">Selection From Layer</a> menu item, that converts a shape drawn in a layer to a selection. Once I had my selection, invert and delete was no problem and I got my rounded corners.</p>
   <p style="text-align: center;"><img src="https://tech.interfluidity.com/2024/06/16/html-iconography/interfluidity-wave-tech-180x180.png" style="width: min-content; left-margin: auto; right-margin: auto;"></p>
   <p>I gather one can omit rounding corners oneself, if you only care about Apple devices. Apple defines <code>apple-touch-icon</code> and <code>apple-touch-icon-precomposed</code>, and if you supply the not-precomposed version, devices should round corners and maybe drop shadow to "compose" your icon.</p>
   <p>Most resources I looked at suggested taking control, so you know what you will get and can use the same icons crossplatform, so that's what I did. So, I rounded my own corners yee-haw!</p>
   <p>Then I exported my image as a PNG in all of the sizes recommended by <a href="https://mathiasbynens.be/notes/touch-icons">the Bynens article</a>, stole his recommended HTML snippet, and added it — with some modification, see below! — to the <a href="https://github.com/swaldman/tech.interfluidity.com/blob/main/untemplate/com/interfluidity/tech/layout-main.html.untemplate">main layout</a> of my <a href="https://github.com/swaldman/unstatic"><code>unstatic</code></a>-based static-site generators.</p>
   <pre><code class="language-html">    &lt;!-- icons / favicons --&gt;

    &lt;!-- we just want the squared-corner image with no overlays for traditional favicon uses at tiny sizes --&gt;
    &lt;!-- swaldman added, ick, firefox scales down the biggest size for its tab icon, so we use the graphic we want for small sizes as the largest... --&gt;
    &lt;link rel="icon" type="image/png" sizes="500x500" href="&lt;( iconLoc.relative )&gt;/interfluidity-wave-blank-square-500x500.png"&gt; 
    &lt;link rel="icon" type="image/png" sizes="32x32" href="&lt;( iconLoc.relative )&gt;/interfluidity-wave-blank-square-32x32.png"&gt;     &lt;!-- swaldman added, for standard favicon size --&gt;
    &lt;link rel="icon" type="image/png" sizes="16x16" href="&lt;( iconLoc.relative )&gt;/interfluidity-wave-blank-square-16x16.png"&gt;     &lt;!-- swaldman added, for standard favicon size --&gt;
    &lt;link rel="icon" type="image/png" href="&lt;( iconLoc.relative )&gt;/interfluidity-wave-blank-square-57x57.png"&gt;                   &lt;!-- swaldman added, for small icons by default --&gt;

    &lt;!-- at bigger sizes, we overlay a bit of text --&gt;
    &lt;!-- icons as recommened by https://mathiasbynens.be/notes/touch-icons --&gt;
    &lt;!-- For Chrome for Android: --&gt;
    &lt;link rel="icon" sizes="192x192" href="&lt;( iconLoc.relative )&gt;/interfluidity-wave-tech-192x192.png"&gt;
    &lt;!-- For iPhone 6 Plus with @3× display: --&gt;
    &lt;link rel="apple-touch-icon-precomposed" sizes="180x180" href="&lt;( iconLoc.relative )&gt;/interfluidity-wave-tech-180x180.png"&gt;
    &lt;!-- For iPad with @2× display running iOS ≥ 7: --&gt;
    &lt;link rel="apple-touch-icon-precomposed" sizes="152x152" href="&lt;( iconLoc.relative )&gt;/interfluidity-wave-tech-152x152.png"&gt;
    &lt;!-- For iPad with @2× display running iOS ≤ 6: --&gt;
    &lt;link rel="apple-touch-icon-precomposed" sizes="144x144" href="&lt;( iconLoc.relative )&gt;/interfluidity-wave-tech-144x144.png"&gt;
    &lt;!-- For iPhone with @2× display running iOS ≥ 7: --&gt;
    &lt;link rel="apple-touch-icon-precomposed" sizes="120x120" href="&lt;( iconLoc.relative )&gt;/interfluidity-wave-tech-120x120.png"&gt;
    &lt;!-- For iPhone with @2× display running iOS ≤ 6: --&gt;
    &lt;link rel="apple-touch-icon-precomposed" sizes="114x114" href="&lt;( iconLoc.relative )&gt;/interfluidity-wave-tech-114x114.png"&gt;
    &lt;!-- For the iPad mini and the first- and second-generation iPad (@1× display) on iOS ≥ 7: --&gt;
    &lt;link rel="apple-touch-icon-precomposed" sizes="76x76" href="&lt;( iconLoc.relative )&gt;/interfluidity-wave-tech-76x76.png"&gt;
    &lt;!-- For the iPad mini and the first- and second-generation iPad (@1× display) on iOS ≤ 6: --&gt;
    &lt;link rel="apple-touch-icon-precomposed" sizes="72x72" href="&lt;( iconLoc.relative )&gt;/interfluidity-wave-tech-72x72.png"&gt;
    &lt;!-- For non-Retina iPhone, iPod Touch, and Android 2.1+ devices: --&gt;
    &lt;link rel="apple-touch-icon-precomposed" href="&lt;( iconLoc.relative )&gt;/interfluidity-wave-blank-square-57x57.png"&gt;

    &lt;!-- end icons / favicons --&gt;
</code></pre>
   <p>A complication emerged, in that my text-labeled icons looked busy and bad, and the text was illegible, when rendered at very small sizes. So you'll note that, for small sizes, I use <code>interfluidity-wave-blank-square</code> files rather than <code>interfluidity-wave-tech</code>. (I thought the very small icons looked better with square corners as well.)</p>
   <p>But Firefox kept picking up the <em>largest</em> <code>&lt;link rel="icon" ... &gt;</code> and downsampling from that, rather than downloading the nearest or nearest-larger icon.</p>
   <p>So I added the image I want used only for small icons also as a very large icon.</p>
   <pre><code class="language-html">    &lt;link rel="icon" type="image/png" sizes="500x500" href="&lt;( iconLoc.relative )&gt;/interfluidity-wave-blank-square-500x500.png"&gt; 
</code></pre>
   <p>Less quirky browsers hopefully never choose this to render from, because there is always a better-sized icon to choose from. But Firefox does choose this one and downsample to render its very small icons-in-a-tab, so the trick gets rid of the ugly, illegibly scaled text in tiny icons under Firefox.</p>
   <p>(It does seem a bit wasteful to trick Firefox into downloading 500x500 images to render at 16x16 or 32x32, but if it smartens up, it can download icons prerendered in just those tiny sizes!)</p>
   <p>Anyway, that was what I did to add icons to this site and to <a href="https://drafts.interfluidity.com/"><em>drafts</em></a>.</p>
   <p>Please let me know if there are much better ways!</p>
   <hr>
   <p><strong>Update (17-June-2024):</strong></p>
   <p>Carlana Johnson <a href="https://evilmartians.com/chronicles/how-to-favicon-in-2021-six-files-that-fit-most-needs">points me</a> to a great article by Andrey Sitnik, <a href="https://evilmartians.com/chronicles/how-to-favicon-in-2021-six-files-that-fit-most-needs"><em>How to Favicon in 2024: Six files that fit most needs</em></a>.</p>
   <p>For now, because I'm lazy, and because my icons are not SVG-friendly, I'm leaving things as they are.</p>
   <p>But perhaps someday I'll make better, vector, logos and icons, rather than just repurpose my social media avatar. Then I will try out this carefully thought-out approach.</p>
  </div>
 </div>
 <div class="entry-footer">
  <div class="post-metainfo">
   <hr>
   <div class="updated-note">
    <a href="https://tech.interfluidity.com/2024/06/16/html-iconography/index.html#major-updates">Last major update at 2024-06-17 @ 02:35 PM EDT</a>
   </div>
   <div>
    by Steve Randy Waldman on 2024-06-16 @ <a href="https://tech.interfluidity.com/2024/06/16/html-iconography/index.html" class="pubtime">07:10 PM EDT</a>
   </div>
  </div>
 </div>
</article>
<div class="after-article">
</div><!-- after-article -->]]>
      </content:encoded>
      <iffy:update-history>
        <iffy:update>
          <atom:updated>2024-06-17T18:35:00Z</atom:updated>
          <atom:summary><![CDATA[Add bold update, link to Andrey Sitnik article, via Carlana Johnson]]></atom:summary>
          <iffy:revision>
            https://tech.interfluidity.com/2024/06/16/html-iconography/index-oldcommit-85841ab8af7303ef4aca2910529551c68dab4867.html
          </iffy:revision>
          <iffy:diff>
            https://tech.interfluidity.com/2024/06/16/html-iconography/index-diff-85841ab8af7303ef4aca2910529551c68dab4867-to-current.html
          </iffy:diff>
        </iffy:update>
      </iffy:update-history>
    </item>
    <item>
      <pubDate>Sat, 8 Jun 2024 19:50:00 -0400</pubDate>
      <guid isPermalink="true">
        https://tech.interfluidity.com/2024/06/08/should-blogs-adopt-the-itunescategory-rss-tag/index.html
      </guid>
      <description>
        <![CDATA[Apple organized a whole slew of standard categories or genres for podcasts, when they defined the itunes RSS namespace for podcasts. This helped discoverability of podcasts, as podcast applications and indexers can let users search or browse by genre, or make suggestions based on genres users seem to prefer. Apple seems to have done a pretty good job at this. It's not obvious that "podcast genres" are meaningfully distinct from "blog genres". We could, of course, invent some analogous kind of...]]>
      </description>
      <link>https://tech.interfluidity.com/2024/06/08/should-blogs-adopt-the-itunescategory-rss-tag/index.html</link>
      <title>Should blogs adopt the itunes:category RSS tag?</title>
      <dc:creator><![CDATA[Steve Randy Waldman]]></dc:creator>
      <content:encoded>
        <![CDATA[<article class="presentation-rss">
 <div class="entry-header">
 </div>
 <div class="entry-body">
  <div class="flexmark markdown">
   <p>Apple organized a <a href="https://podcasters.apple.com/support/1691-apple-podcasts-categories">whole slew of standard categories or genres</a> for podcasts, when they defined the <a href="https://help.apple.com/itc/podcasts_connect/#/itcb54353390"><code>itunes</code> RSS namespace</a> for podcasts. This helped discoverability of podcasts, as podcast applications and indexers can let users search or browse by genre, or make suggestions based on genres users seem to prefer.</p>
   <p>Apple seems to have done a pretty good job at this. It's not obvious that "podcast genres" are meaningfully distinct from "blog genres". We could, of course, invent some analogous kind of categorization just for blogs, but why? As Dave Winer <a href="http://scripting.com/2017/05/09/rulesForStandardsmakers.html">hath writ</a>:</p>
   <blockquote>
    <p><strong>Fewer format features is better</strong></p>
    <p>If you want to add a feature to a format, first carefully study the existing format and namespaces to be sure what you're doing hasn't already been done. If it has, use the original version. This is how you maximize interop.</p>
   </blockquote>
   <p>Podcasts got a huge lift from what was originally the blog-centric RSS format. Why haven't blogs adopted podcast-RSS best practices to get a lift right back?</p>
   <p>There's a potential issue that some applications may use the presence of <code>itunes</code> RSS tags to imply an RSS feed is for a podcast. But that's pretty dumb. If applications expecting podcasts import blogs without soundfiles because they use this heuristic, well, bad on them. They should fix that. When blogs do contain some posts with audio <code>&lt;enclosure/&gt;</code> elements, then arguably they are podcasts <em>inter alia</em>. Client applications should use intelligent criteria to decide what they want to consider suitably a "podcast" or "podcast episode".</p>
   <p>It strikes me as a good idea to make use of good ideas from the <code>itunes</code> (and <a href="https://github.com/Podcastindex-org/podcast-namespace"><code>podcast</code></a>) namespace for blogs and other RSS applications.</p>
   <p>Starting, perhaps, with <code>itunes:category</code>.</p>
   <p>Apple <a href="https://help.apple.com/itc/podcasts_connect/#/itcb54353390">defines</a> <code>itunes:category</code> as a channel-level element that permits multiple entries (you don't have to be just one genre), and nested entries for subcategories. Seems pretty good!</p>
   <p>What do you think?</p>
  </div>
 </div>
 <div class="entry-footer">
  <div class="post-metainfo">
   <hr>
   <div>
    by Steve Randy Waldman on 2024-06-08 @ <a href="https://tech.interfluidity.com/2024/06/08/should-blogs-adopt-the-itunescategory-rss-tag/index.html" class="pubtime">07:50 PM EDT</a>
   </div>
  </div>
 </div>
</article>
<div class="after-article">
</div><!-- after-article -->]]>
      </content:encoded>
    </item>
    <item>
      <pubDate>Thu, 6 Jun 2024 15:35:00 -0400</pubDate>
      <guid isPermalink="true">https://tech.interfluidity.com/2024/06/06/neonix/index.html</guid>
      <description>
        <![CDATA[I've found ripgrep to be an invaluable tool. At some level it's just grep, but its speed and ergonomics make it something else. I find things much more quickly. In combination with projectile, it gives me a fast project-wide find, reducing one of the advantages of commercial IDEs over my humble emacs. Today, Bill Mill points me to a command line tool called fzf which looks like kind of a command-line Swiss army knife. It certainly makes sorting through very long find . output a breeze. Some of...]]>
      </description>
      <link>https://tech.interfluidity.com/2024/06/06/neonix/index.html</link>
      <title>Neonix</title>
      <dc:creator><![CDATA[Steve Randy Waldman]]></dc:creator>
      <atom:updated>2024-06-06T22:30:00Z</atom:updated>
      <content:encoded>
        <![CDATA[<article class="presentation-rss uid-readying-a-blog-for-sprouts">
 <div class="entry-header">
 </div>
 <div class="entry-body">
  <div class="flexmark markdown">
   <p>I've found <a href="https://github.com/BurntSushi/ripgrep">ripgrep</a> to be an invaluable tool. At some level it's just grep, but its speed and ergonomics make it something else. I find things much more quickly. In combination with <a href="https://docs.projectile.mx/projectile/index.html">projectile</a>, it gives me a fast project-wide find, reducing one of the advantages of commercial IDEs over my humble <a href="https://www.gnu.org/software/emacs/">emacs</a>.</p>
   <p>Today, Bill Mill <a href="https://notes.billmill.org/computer_usage/cli_tips_and_tools/fzf.html">points me</a> to a command line tool called <a href="https://junegunn.github.io/fzf/"><code>fzf</code></a> which looks like kind of a command-line Swiss army knife. It certainly makes sorting through very long <code>find .</code> output a breeze.</p>
   <p>Some of Bill's scripts use a find replacement called <a href="https://github.com/sharkdp/fd"><code>fd</code></a>, which I plan to take a look at.</p>
   <p>I think this is an interesting trend, taking venerable UNIX command-line tools and rethinking, reimplementing them with modern languages and the decades of experience since that first, revolutioary, burst of command-line creativity in the early UNIX days.</p>
   <p>I'll let this post become a <a href="https://v5.chriskrycho.com/essays/feeds-are-not-fit-for-gardening/">"sprout"</a> from which I can track these kinds of tools as I encounter them.</p>
   <ul>
    <li>
     <p><a href="https://github.com/sharkdp/fd"><code>fd</code></a><br>
       A modern retake on <code>find</code> I haven't played with yet.</p></li>
    <li>
     <p><a href="https://junegunn.github.io/fzf/"><code>fzf</code></a><br>
       A fuzzy-matching tool for interactively sorting through large command line and command completion outputs. See <a href="https://notes.billmill.org/computer_usage/cli_tips_and_tools/fzf.html">Bill Mill</a>.</p></li>
    <li>
     <p><a href="https://github.com/BurntSushi/ripgrep"><code>rg</code></a><br>
       "ripgrep". A new take on grep, super fast, seachers directories recursively, by default excluding <code>.git</code> and whatever is <code>.gitignore</code>-d.</p></li>
   </ul>
   <p>I'll add more as I, um, <code>fd</code> them!</p>
   <hr>
   <p>p.s. apparently there's a <a href="https://www.insomniac.com/music/artists/neonix/">DJ called Neonix</a>! Sorry! I'm using the, er, neologism to refer to neo-UNIX.</p>
   <hr>
   <p><strong>Update 2024-06-06:</strong> Kartik Agaram's <a href="https://merveilles.town/@akkartik/112571589796019251">points</a> me to <a href="https://notes.billmill.org/link_blog/2023/10/modern_unix_tools.html">Bill Mill's "modern unix tools" page</a>. Which itself contains a link to a <a href="https://github.com/ibraheemdev/modern-unix">"Modern Unix" collection by Ibraheem Ahmed</a>. So much to play with!</p>
  </div>
 </div>
 <div class="entry-footer">
  <div class="post-metainfo">
   <hr>
   <div class="updated-note">
    <a href="https://tech.interfluidity.com/2024/06/06/neonix/index.html#major-updates">Last major update at 2024-06-06 @ 06:30 PM EDT</a>
   </div>
   <div>
    by Steve Randy Waldman on 2024-06-06 @ <a href="https://tech.interfluidity.com/2024/06/06/neonix/index.html" class="pubtime">03:35 PM EDT</a>
   </div>
  </div>
 </div>
</article>
<div class="after-article">
</div><!-- after-article -->]]>
      </content:encoded>
      <iffy:update-history>
        <iffy:update>
          <atom:updated>2024-06-06T22:30:00Z</atom:updated>
          <atom:summary><![CDATA[Add Kartik Agaram's pointer to Bill Mill's "modern unix tools"]]></atom:summary>
          <iffy:revision>
            https://tech.interfluidity.com/2024/06/06/neonix/index-oldcommit-711778c5fa4d93cd89e9421da6b8d9fb6e71a534.html
          </iffy:revision>
          <iffy:diff>
            https://tech.interfluidity.com/2024/06/06/neonix/index-diff-711778c5fa4d93cd89e9421da6b8d9fb6e71a534-to-current.html
          </iffy:diff>
        </iffy:update>
      </iffy:update-history>
    </item>
    <item>
      <pubDate>Wed, 5 Jun 2024 23:00:00 -0400</pubDate>
      <guid isPermalink="true">
        https://tech.interfluidity.com/2024/06/02/readying-a-blog-for-revision-histories-and-sprouts-under-unstatic/index.html
      </guid>
      <description>
        <![CDATA[I've been developing support for my take on Chris Krycho' "sprouts" against this blog. Much of that support is now built into unstatic, my library for building static-site generators. But it does also require some support from within applications of that library, from the scala code and the untemplates of the individual site generators. I'm going to upgrade my "drafts" blog to support revisions, diffs, and sprouts. I'll document what it takes to do that here. Enable revision- and...]]>
      </description>
      <link>
        https://tech.interfluidity.com/2024/06/02/readying-a-blog-for-revision-histories-and-sprouts-under-unstatic/index.html
      </link>
      <title>Readying a blog for revision histories and sprouts under unstatic</title>
      <dc:creator><![CDATA[Steve Randy Waldman]]></dc:creator>
      <atom:updated>2024-06-06T17:30:00Z</atom:updated>
      <content:encoded>
        <![CDATA[<article class="presentation-rss uid-readying-a-blog-for-sprouts">
 <div class="entry-header">
 </div>
 <div class="entry-body">
  <div class="flexmark markdown">
   <p>I've been developing support for my take on <a href="https://v5.chriskrycho.com/essays/feeds-are-not-fit-for-gardening/">Chris Krycho' "sprouts"</a> against this blog. Much of that support is now built into <a href="https://github.com/swaldman/unstatic"><code>unstatic</code></a>, my library for building static-site generators. But it does also require some support from within applications of that library, from the scala code and the <a href="https://github.com/swaldman/untemplate-doc">untemplates</a> of the individual site generators.</p>
   <p>I'm going to upgrade my <a href="https://drafts.interfluidity.com/archive.html">"drafts"</a> blog to support revisions, diffs, and sprouts. I'll document what it takes to do that here.</p>
   <h3><a href="https://tech.interfluidity.com/2024/06/02/readying-a-blog-for-revision-histories-and-sprouts-under-unstatic/#enable-revision--and-diff-generation-in-scala-code" id="enable-revision--and-diff-generation-in-scala-code" name="enable-revision--and-diff-generation-in-scala-code" class="anchorlink"></a>Enable revision- and diff-generation in Scala code</h3>
   <p>In the object <a href="https://github.com/swaldman/drafts.interfluidity.com/blob/main/src/com/interfluidity/drafts/DraftsSite.scala"><code>DraftsSite</code></a>, the <a href="https://github.com/swaldman/unstatic/blob/main/ztapir/src/unstatic/ztapir/ZTSite.scala"><code>unstatic.ztapir.ZTSite</code></a> that defines the site to be generated, inside the <a href="https://github.com/swaldman/unstatic/blob/main/ztapir/src/unstatic/ztapir/simple/SimpleBlog.scala"><code>unstatic.ztapir.simple.SimpleBlog</code></a> that defines the blog, add a <a href="https://github.com/swaldman/unstatic/blob/main/ztapir/src/unstatic/ztapir/simple/RevisionBinder.scala"><code>RevisionBinder</code></a> that can pull old revisions of pages and generate them into the website, and a <a href="https://github.com/swaldman/unstatic/blob/main/ztapir/src/unstatic/ztapir/simple/DiffBinder.scala"><code>DiffBinder</code></a> that can generate diffs between current and new revisions:</p>
   <pre><code class="language-scala"> override val revisionBinder : Option[RevisionBinder] = Some( RevisionBinder.GitByCommit(DraftsSite, JPath.of("."), siteRooted =&gt; Rel("public/").embedRoot(siteRooted)) )
 override val diffBinder     : Option[DiffBinder]     = Some( DiffBinder.JavaDiffUtils(DraftsSite) )
</code></pre>
   <p>By default, <code>SimpleBlog</code> sets these values to null. We override them.</p>
   <p>The <code>RevisionBinder</code> we are using is <code>RevisionBinder.GitByCommit</code>. Its constructor accepts</p>
   <ol>
    <li>our <code>ZTSite</code>;</li>
    <li>a file path (<code>java.nio.file.Path</code>) to the git repository in which revisions are stored, just '.' for us because the git repository is the static-site generator's working directory;</li>
    <li>a function that converts a site-rooted path (<a href="https://github.com/swaldman/unstatic/blob/main/src/unstatic/UrlPath.scala"><code>unstatic.UrlPath.Rooted</code></a>) into the associated path within the repository relative to its root (as <a href="https://github.com/swaldman/unstatic/blob/main/src/unstatic/UrlPath.scala"><code>unstatic.UrlPath.Rel</code></a>);</li>
    <li>A <code>RevisionBinder.RevisionPathFinder</code>, a function which takes a document's site-rooted path and a "revision spec" (which for this revision binder is a full-size hex git commit) and determines the path the revision should take within the site.</li>
   </ol>
   <p>We omit the fourth argument because we use a default, which coverts a path like <code>/a/b/whatever.html</code> to <code>/a/b/whatever-oldcommit-c6e71f4d689f2b208c3eae19e647435322fa6d04.html</code></p>
   <p>For a <code>DiffBinder</code>, we use <code>DiffBinder.JavaDiffUtils</code>, based on the <a href="https://github.com/java-diff-utils/java-diff-utils"><code>java-diff-utils</code></a> library. When we ask it to generate a diff for a path, we give it a reference to the <code>RevisionBinder.RevisionPathFinder</code> so it can know the filenames old versions get generated into. We also give it a <code>DiffBinder.DiffPathFinder</code>, which computes the pathnames of the generated diffs. Again, the <code>DiffBinder.DiffPathFinder</code> is omitted our code. We rely a default argument, which produces diff paths like <code>/a/b/whatever-diff-72eaf9fdfebc9e627bff33bbe1102d4d250ad1d0-to-199e44561de3fd9e731a335d8b2a655f42d9bc04.html</code>.</p>
   <p>Now, if we ever <a href="https://tech.interfluidity.com/2024/06/02/green-shoots-of-sprouts/index.html">provide update histories</a> to any posts, copies of any old revisions referenced will be generated into the public directory of the site, as well as diffs between adjacent items in the update history.</p>
   <h3><a href="https://tech.interfluidity.com/2024/06/02/readying-a-blog-for-revision-histories-and-sprouts-under-unstatic/#modify-the-site-to-generate-update-histories-at-the-end-of-posts" id="modify-the-site-to-generate-update-histories-at-the-end-of-posts" name="modify-the-site-to-generate-update-histories-at-the-end-of-posts" class="anchorlink"></a>Modify the site to generate update histories at the end of posts</h3>
   <p>It's a matter of taste, but we'll display update histories only on single-post permalink pages, not at the end of each post when concatenated together. And we won't include them as content in RSS. (Update histories <a href="https://tech.interfluidity.com/xml/iffy/index.html"><em>do</em> get included</a> as additional metadata in RSS. That's built in.) <code>SimpleBlog</code> conveniently distinguishes between <code>Single</code>, <code>Multiple</code>, and <code>Rss</code>; we can just check our presentation and behave appropriately.</p>
   <p>So... We'll</p>
   <ol>
    <li>Steal <a href="https://github.com/swaldman/tech.interfluidity.com/blob/main/untemplate/com/interfluidity/tech/blog/layout-update-history.html.untemplate"><code>layout-update-history.html.untemplate</code></a> from the tech blog, and <a href="https://github.com/swaldman/drafts.interfluidity.com/blob/main/untemplate/com/interfluidity/drafts/mainblog/layout-update-history.html.untemplate">bring it in as a layout of drafts</a>. (I had to import <code>com.interfluidity.drafts.DraftsSite.MainBlog</code>, and modify the link in the note to point to the drafts got repository, rather than the tech rep.)</li>
    <li>Modify <a href="https://github.com/swaldman/drafts.interfluidity.com/blob/main/untemplate/com/interfluidity/drafts/mainblog/layout-entry.html.untemplate"><code>layout-entry.html.untemplate</code></a> in drafts to bring in the new layout of update history. That turns out to be really easy, because we already have logic at the end of our entry layout to restrict addition of previous and next links to single page presentations. So all we have to do is add our update history layout just after the <code>div</code> for those links, but within the conditionally added region. It's literally just 
     <pre><code class="language-plaintext">&lt;( layout_update_history_html( input ) )&gt;
</code></pre>
     <p>inserted just after that <code>div</code>, still within the conditional region.</p></li>
   </ol>
   <h3><a href="https://tech.interfluidity.com/2024/06/02/readying-a-blog-for-revision-histories-and-sprouts-under-unstatic/#modify-the-main-layout-and-css-so-that-old-revisions-are-visually-distinct-from-and-link-back-to-current-revisions" id="modify-the-main-layout-and-css-so-that-old-revisions-are-visually-distinct-from-and-link-back-to-current-revisions" name="modify-the-main-layout-and-css-so-that-old-revisions-are-visually-distinct-from-and-link-back-to-current-revisions" class="anchorlink"></a>Modify the main layout and CSS so that old revisions are visually distinct from, and link back to, current revisions</h3>
   <p>At the top of the <code>body</code> element of <a href="https://github.com/swaldman/drafts.interfluidity.com/blob/main/untemplate/com/interfluidity/drafts/layout-main.html.untemplate"><code>layout-main.html.untemplate</code></a>, we add an empty <code>div</code> element called <code>top-banner</code>.</p>
   <pre><code class="language-html">  &lt;/head&gt;
  &lt;body&gt;
    &lt;div id="top-banner"&gt;&lt;/div&gt;
</code></pre>
   <p>In current revisions, this will remain invisible and empty. But we'll add a bit of javascript to detect if we're in an old revision, and add some HTML with a link back to the current revision. If we are in an old revision, we'll also add a class called <code>old-draft</code> to the body element, so that we can do whatever we feel like in CSS to make the old revision visually distinct.</p>
   <p>We use a javascript regular expression and our current location to decide if we are in an old revision.</p>
   <pre><code class="language-javascript">    &lt;script&gt;
      document.addEventListener("DOMContentLoaded", function() {
          const regex = /(^.*)\-oldcommit\-[0-9A-Fa-f]+\.html/;
          const match = window.location.pathname.match(regex);
          if (match) {
              const b  = document.querySelector("body");
              const tb = document.getElementById("top-banner");
              b.classList.add("old-draft");
              tb.innerHTML = "You are looking at an old, superceded version of this page. For the current version, please &lt;a href=\"" + match[1] + ".html\"&gt;click here&lt;/a&gt;.";
          }
       });
    &lt;/script&gt;
</code></pre>
   <p>We adjust <a href="https://github.com/swaldman/drafts.interfluidity.com/blob/main/static/css/style.css">our main CSS</a> to keep the top-banner <code>div</code> at the top of our document, when it's relevant:</p>
   <pre><code class="language-css">body.old-draft #top-banner {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    color: black;
    background-color: yellow;
    text-align: center;
    font-family: 'RobotoCondensed', 'Arial', 'Helvetica', sans-serif;
    font-variation-settings: "wght" 500;
    padding-top: 4px;
    padding-bottom: 4px;
    border-bottom: 2px solid black;
}
</code></pre>
   <p>Also add CSS so that, when viewing old revisions, the documents look, well, old.</p>
   <pre><code class="language-css">body.old-draft {
    padding-top: 1em;
    background-color: #F3F5DA;
    color: #6E7FD9;
    font-family: 'GabrieleD', 'Courier';
}
</code></pre>
   <p>(These choices were inspired by the TT2020 image <a href="https://www.creativebloq.com/typography/free-typewriter-fonts-1131774">here</a>, although ultimately I went for Gabriele, because the TT2020 file sizes were very large.)</p>
   <h3><a href="https://tech.interfluidity.com/2024/06/02/readying-a-blog-for-revision-histories-and-sprouts-under-unstatic/#add-a-prologue-to-posts-with-revisions-or-that-generate-sprout-rss" id="add-a-prologue-to-posts-with-revisions-or-that-generate-sprout-rss" name="add-a-prologue-to-posts-with-revisions-or-that-generate-sprout-rss" class="anchorlink"></a>Add a prologue to posts with revisions or that generate sprout RSS</h3>
   <p>When a post is a revision or a sprout, we want a prologue that indicated that it is, with links to the prior revision, the update history, and the sprout RSS.</p>
   <p>I'm too lazy to describe what it took to add that in detail, but here's <a href="https://github.com/swaldman/drafts.interfluidity.com/commit/d88d72d099cbe0c542ce2cce039243fb0975e52e">a nice, concise commit</a>. Check out the diff.</p>
   <h3><a href="https://tech.interfluidity.com/2024/06/02/readying-a-blog-for-revision-histories-and-sprouts-under-unstatic/#miscellaneous-tweaks" id="miscellaneous-tweaks" name="miscellaneous-tweaks" class="anchorlink"></a>Miscellaneous tweaks</h3>
   <p>I don't want to have to import <code>UpdateRecord</code> whenever I want to add update histories to entries, so I added them as an extra import to my <a href="https://github.com/swaldman/untemplate-doc?tab=readme-ov-file#customizers">untemplate customizer</a> in my mill build file, <a href="https://github.com/swaldman/drafts.interfluidity.com/blob/main/build.sc"><code>build.sc</code></a>:</p>
   <pre><code class="language-scala">  override def untemplateSelectCustomizer: untemplate.Customizer.Selector = { key =&gt;
    var out = untemplate.Customizer.empty

    if (key.inferredPackage.indexOf("mainblog")&gt;=0 &amp;&amp; key.inferredFunctionName.startsWith("entry_")) {
      out = out.copy(extraImports=Seq("unstatic.*","com.interfluidity.drafts.DraftsSite.MainBlog","unstatic.ztapir.simple.UpdateRecord"))
    }
</code></pre>
   <p>The "update history note" should be small, so I add to css:</p>
   <pre><code class="language-css">.update-history-note {
    font-size: smaller;
    line-height: 100%;
}
</code></pre>
   <h3><a href="https://tech.interfluidity.com/2024/06/02/readying-a-blog-for-revision-histories-and-sprouts-under-unstatic/#republish-the-site" id="republish-the-site" name="republish-the-site" class="anchorlink"></a>Republish the site</h3>
   <p>Even though nothing visible should change, let's go ahead and republish the site, so that our javascript and css scaffolding for old-looking updates become available.</p>
   <h3><a href="https://tech.interfluidity.com/2024/06/02/readying-a-blog-for-revision-histories-and-sprouts-under-unstatic/#test-and-tweak" id="test-and-tweak" name="test-and-tweak" class="anchorlink"></a>Test and tweak</h3>
   <p>Even though I don't have any actual new revisions to create, I added a fake revision history to the most recent post, played around in CSS with the look of the old revision until I liked it, then commented away the fake update history.</p>
  </div>
 </div>
 <div class="entry-footer">
  <div class="post-metainfo">
   <hr>
   <div class="updated-note">
    <a href="https://tech.interfluidity.com/2024/06/02/readying-a-blog-for-revision-histories-and-sprouts-under-unstatic/index.html#major-updates">Last major update at 2024-06-06 @ 01:30 PM EDT</a>
   </div>
   <div>
    by Steve Randy Waldman on 2024-06-05 @ <a href="https://tech.interfluidity.com/2024/06/02/readying-a-blog-for-revision-histories-and-sprouts-under-unstatic/index.html" class="pubtime">11:00 PM EDT</a>
   </div>
  </div>
 </div>
</article>
<div class="after-article">
</div><!-- after-article -->]]>
      </content:encoded>
      <iffy:update-history>
        <iffy:update>
          <atom:updated>2024-06-06T17:30:00Z</atom:updated>
          <atom:summary><![CDATA[Correct bad publication date and time.]]></atom:summary>
          <iffy:revision>
            https://tech.interfluidity.com/2024/06/02/readying-a-blog-for-revision-histories-and-sprouts-under-unstatic/index-oldcommit-f9b8a24e6219588d1f7f570dd9d448d02a5c6529.html
          </iffy:revision>
          <iffy:diff>
            https://tech.interfluidity.com/2024/06/02/readying-a-blog-for-revision-histories-and-sprouts-under-unstatic/index-diff-f9b8a24e6219588d1f7f570dd9d448d02a5c6529-to-current.html
          </iffy:diff>
        </iffy:update>
      </iffy:update-history>
    </item>
    <item>
      <pubDate>Sun, 2 Jun 2024 03:15:00 -0400</pubDate>
      <guid isPermalink="true">https://tech.interfluidity.com/2024/06/02/green-shoots-of-sprouts/index.html</guid>
      <description>
        <![CDATA[Erlend Sogge Heggen pointed me to a post by Chris Krycho on "sprouts". Krycho points out that most of our online infrastructure is organized around feeds of posts, which are "published" or "announced" as finished work. But creative work naturally develops in drafts and increments. It might be best to publish at first only the barest outline of a thing, and then collaborate in the open to flesh it out and bring it forward. What we want to announce, then, are not new posts, but a beginning and...]]>
      </description>
      <link>https://tech.interfluidity.com/2024/06/02/green-shoots-of-sprouts/index.html</link>
      <title>Green shoots of sprouts</title>
      <dc:creator><![CDATA[Steve Randy Waldman]]></dc:creator>
      <content:encoded>
        <![CDATA[<article class="presentation-rss uid-green-shoots-of-sprouts">
 <div class="entry-header">
 </div>
 <div class="entry-body">
  <div class="flexmark markdown">
   <p><a href="https://mastodon.social/@erlend@writing.exchange">Erlend Sogge Heggen</a> pointed me to a <a href="https://v5.chriskrycho.com/essays/feeds-are-not-fit-for-gardening/">post by Chris Krycho on "sprouts"</a>.</p>
   <p>Krycho points out that most of our online infrastructure is organized around feeds of posts, which are "published" or "announced" as finished work. But creative work naturally develops in drafts and increments. It might be best to publish at first only the barest outline of a thing, and then collaborate in the open to flesh it out and bring it forward. What we want to announce, then, are not new posts, but a beginning and then new milestones. If we can, we'd want to retain the full history of the process.</p>
   <p>I've gone a fair distance towards implementing one version of this vision recently. My blogging infrastructure is my own static-site generation library <a href="https://github.com/swaldman/unstatic/">unstatic</a>, which is built on top of "<a href="https://github.com/swaldman/untemplate-doc#readme">untemplates</a>". Untemplates are just thin wrappers around Scala functions.</p>
   <p>Like lots of static-site generators, I write in files that are mostly markdown, with some metadata in a special header. But in the untemplate header, I literally write Scala code.</p>
   <p>Here's a very simple example, from a recent post, "<a href="https://tech.interfluidity.com/2024/03/18/c3p0-and-loom/index.html">c3p0 and loom</a>":</p>
   <pre><code class="language-plaintext">&gt; val UntemplateAttributes = immutable.Map[String,Any] (
&gt;   "Title"     -&gt; "c3p0 and loom",
&gt;   "PubDate"   -&gt; "2024-03-18T22:20:00-04:00",
&gt;   "Anchor"    -&gt; "c3p0-and-loom"
&gt; )

given PageBase = PageBase.fromPage(input.renderLocation)

(input : MainBlog.EntryInput)[]~()&gt;      ### modify Title/Author/Pubdate above, add markdown or html below!

I write [a lot of open source software](https://github.com/swaldman), but I've only ever really had one "hit".
That makes me pretty sad, actually. I think some of what I've written is pretty great, and it's lonesome to be the
sole user...
</code></pre>
   <p>For most posts, I just copy and modify this header, and then write markdown text below. But if I want to do anything more fancy, well, I have the full Scala programming language to work with.</p>
   <p>In order to realize a vision of "sprouts", I first implemented update histories as a simple <code>List</code> of <code>UpdateRecord</code> objects.</p>
   <p>The <a href="https://tech.interfluidity.com/xml/iffy/index.html">post prior to this one</a> has already become a particularly sprouty sprout. The post documents experiments with extensions to RSS. I try stuff out, then, as often as not, I untry it. So there's lots of revising. Here's the beginning of that post, for now: <a id="example-update-history" href="https://tech.interfluidity.com/2024/06/02/green-shoots-of-sprouts/"></a></p>
   <pre><code class="language-plaintext">&gt; val updateHistory =
&gt;    UpdateRecord("2024-06-02T00:25:00-04:00",Some("Drop &lt;code&gt;iffy:timestamp&lt;/code&gt;. We can just reuse &lt;code&gt;atom:updated&lt;/code&gt; for the same work."),Some("199e44561de3fd9e731a335d8b2a655f42d9bc04")) ::
&gt;    UpdateRecord("2024-06-01T21:35:00-04:00",Some("Add initial take on tags related to updates and revisions."),Some("72eaf9fdfebc9e627bff33bbe1102d4d250ad1d0")) ::
&gt;    UpdateRecord("2024-05-25T23:00:00-04:00",Some("Add JS/CSS so that prior revisions are visually distinct from current."),Some("13de0232319ceab2f830591c318089d18cbec78d")) ::
&gt;    UpdateRecord("2024-05-24T00:25:00-04:00",Some("Drop tags &lt;code&gt;iffy:when-updated&lt;/code&gt; and &lt;code&gt;iffy:original-guid&lt;/code&gt;, bad appraoch to updates."),Some("394986cb8d9c57f567d324e691a44d50102101ce")) ::
&gt;    Nil
&gt;
&gt; val UntemplateAttributes = immutable.Map[String,Any] (
&gt;   "Title"         -&gt; "The 'iffy' XML namespace",
&gt;   "PubDate"       -&gt; "2024-05-13T04:10:00-04:00",
&gt;   "Permalink"     -&gt; "/xml/iffy/index.html",
&gt;   "UpdateHistory" -&gt; updateHistory,
&gt;   "Sprout"        -&gt; true,
&gt;   "Anchor"        -&gt; "iffy-xml-namespace"
&gt; )

given PageBase = PageBase.fromPage(input.renderLocation)

(input : MainBlog.EntryInput)[]~()&gt;      ### modify Title/Author/Pubdate above, add markdown or html below!

I want to do a lot of things with RSS that require
extensions of RSS (as the RSS spec [foresees](https://www.rssboard.org/rss-specification#extendingRss))...
</code></pre>
   <p>Each <code>UpdateRecord</code> marks a discretionary choice, to declare a "significant" or "material" update. Most updates are not! There are typically several minor revisions, typo fixes, and tweaks, between these noted updates.</p>
   <p>When I decide a revision is serious, I provide a timestamp, and, optionally, a description and a "revision spec". The description is self-explanatory. The revision spec is arbitrary. When I define a site, I optionally provide an <a href="https://github.com/swaldman/unstatic/blob/main/ztapir/src/unstatic/ztapir/simple/RevisionBinder.scala"><code>RevisionBinder</code></a> that is able to convert a revision spec and a path into the contents of a resource within the referenced revision.</p>
   <p>There might be many different implementations of <code>RevisionBinder</code>, each with its own kind of revision specification. The one that exists for now just pulls resources from git commits.</p>
   <p>The revision specs shown are just git commits, referenced in full-length hex. With each "major" update, I provide the hex for the commit <em>prior</em> to my update, the one it is superceding. That usually <em>will not</em> be the same commit as the "major" update prior, because most "major" updates are followed by a series of minor tweaks.</p>
   <p>So, as I work on an evolving document, I note significant updates by adding records to a list, and I include the list I build in <code>UntemplateAttributes</code>, the standard <code>Map</code> in which I also define <code>Title</code>, <code>PubDate</code>, <code>Author</code>, etc. (The example posts omit <code>Author</code>, because this site has a default author — me! — if that field is left unset.)</p>
   <p>The update history converts pretty directly into a user readable history. Let's <a href="https://tech.interfluidity.com/xml/iffy/index.html#update-history">take a look</a>!</p>
   <p>(If you want to see the template that lays out the update history, you can find it <a href="https://github.com/swaldman/tech.interfluidity.com/blob/main/untemplate/com/interfluidity/tech/blog/layout-update-history.html.untemplate">here</a>.)</p>
   <p>To realize the "sprout" vision, we need more than this. We need some means by which people can follow the evolutions of the document. Ideally, when a "major update" is published, subscribers to the blog should see something about that in their feeds. The RSS feeds we generate include <code>&lt;atom:updated&gt;</code> tags, but as Krycho points out, very few feed readers do anything with that.</p>
   <p>You'll note that in addition to the <code>UpdateHistory</code>, we've added to <code>UntemplateAttributes</code> a key called <code>Sprout</code>. When the site generator encounters a mapping of <code>Sprout</code> to <code>true</code> on an untemplate, it generates an additional RSS feed that will track the update history of just this post. For our example post, you can find that feed <a href="https://tech.interfluidity.com/xml/iffy/index-sprout.rss">here</a></p>
   <p>The <a href="https://github.com/swaldman/tech.interfluidity.com/blob/main/untemplate/com/interfluidity/tech/blog/layout-entry.html.untemplate">template that lays out blog entries</a> looks for an update history, and if it is there, checks for prior revisions references, diffs, and the <code>sprouts</code> flag. It prepends to the post a brief note with links, to the prior revision if it's available, to the update history, and to the post-specific RSS feed. Go ahead, check out the beginning of our <a href="https://tech.interfluidity.com/xml/iffy/index.html">example post</a>.</p>
   <p>Going forward, I think I will add the capability of generating "synthetic" posts when there are new major updates. They'd just be formulaic announcements of the updates. They might never appear on the blog front page. But they would be included in the RSS feed. I'd add metadata to the RSS items for these posts, indicating that they are synthetic and describing them, so that tools like <a href="https://tech.interfluidity.com/2024/01/29/feedletter-tutorial/index.html"><code>feedletter</code></a> can make intelligent choices about whether and how subscribers should receive notificatios about these posts.</p>
   <p>But that is all still to come!</p>
   <p>For now, we have update histories with links to prior revisions and diffs, and dedicated RSS feeds by which dedicated collaborators can stay abreast of our burgeoning sprouts.</p>
  </div>
 </div>
 <div class="entry-footer">
  <div class="post-metainfo">
   <hr>
   <div>
    by Steve Randy Waldman on 2024-06-02 @ <a href="https://tech.interfluidity.com/2024/06/02/green-shoots-of-sprouts/index.html" class="pubtime">03:15 AM EDT</a>
   </div>
  </div>
 </div>
</article>
<div class="after-article">
</div><!-- after-article -->]]>
      </content:encoded>
    </item>
  </channel>
</rss>
