<?xml version='1.0' encoding='UTF-8'?>
<rss 
version="2.0" xmlns:iffy="http://tech.interfluidity.com/xml/iffy/" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/">
  <channel>
    <title>tech — interfluidity</title>
    <link>https://tech.interfluidity.com/index.html</link>
    <description><![CDATA[Feed for blog 'tech — interfluidity', generated by unstatic]]></description>
    <language>en-us</language>
    <lastBuildDate>Sun, 10 Aug 2025 16:46:21 -0400</lastBuildDate>
    <generator>https://github.com/swaldman/unstatic</generator>
    <docs>https://cyber.harvard.edu/rss/rss.html</docs>
    <atom:link
    type="application/rss+xml" rel="self" href="https://tech.interfluidity.com/2025/07/27/using-tailscale-to-proxy-traffic-to-the-us/index.rss"/>
    <iffy:curation>
      <iffy:single/>
    </iffy:curation>
    <iffy:completeness>Content</iffy:completeness>
    <item>
      <pubDate>Sun, 27 Jul 2025 07:00:00 -0400</pubDate>
      <guid isPermalink="true">
        https://tech.interfluidity.com/2025/07/27/using-tailscale-to-proxy-traffic-to-the-us/index.html
      </guid>
      <description>
        <![CDATA[I'm traveling, and found that some sites I needed to access forbid traffic from my location. In order to, like, pay a utility bill and renew some insurance, I needed my requests to appear to be coming from the United States. Obviously, the easy thing would be just be to install one of a zillion VPNs that would let one do this. But they usually involve some subscription fee, this is a rare issue for me and I'm cheap, and I've been curious about Tailscale, which has a free personal-use tier....]]>
      </description>
      <link>https://tech.interfluidity.com/2025/07/27/using-tailscale-to-proxy-traffic-to-the-us/index.html</link>
      <title>Using Tailscale to proxy traffic to the US</title>
      <dc:creator><![CDATA[Steve Randy Waldman]]></dc:creator>
      <content:encoded>
        <![CDATA[<article class="presentation-rss uid-using-tailscale-to-proxy-traffic-to-the-us">
 <div class="entry-header">
 </div>
 <div class="entry-body">
  <div class="flexmark markdown">
   <p>I'm traveling, and found that some sites I needed to access forbid traffic from my location. In order to, like, pay a utility bill and renew some insurance, I needed my requests to appear to be coming from the United States.</p>
   <p>Obviously, the easy thing would be just be to install one of a zillion VPNs that would let one do this. But they usually involve some subscription fee, this is a rare issue for me and I'm cheap, and I've been curious about <a href="https://tailscale.com/">Tailscale</a>, which has a free personal-use tier.</p>
   <p>Anyway, here's what I did:</p>
   <ol>
    <li>
     <p>Download the Tailscale app on my Mac (from the app store)</p></li>
    <li>
     <p>Run the app</p></li>
    <li>
     <p>Authenticate (I chose Apple as authentication provider) and give Tailscale VPN permissions</p></li>
    <li>
     <p>Install Tailscale on a US-based linux machine</p>
     <ol>
      <li>
       <p>Check the linux version I'm running</p>
       <ul>
        <li>I know it's a Debian, so <a href="https://unix.stackexchange.com/questions/177205/how-do-i-know-which-version-of-debian-im-running">run</a> <code>cat /etc/*-release</code></li>
       </ul></li>
      <li>
       <p>I'm skittish about <code>curl -fsSL whatever | sh</code> style installations, which Tailscale <a href="https://tailscale.com/kb/1031/install-linux">first suggests</a> for linux, so I ran (the not all that much safer) <a href="https://tailscale.com/kb/1187/install-ubuntu-2204">version-specific Tailscale installation</a>.</p></li>
      <li>
       <p>The <code>sudo apt-get</code> commands installed a new kernel. I rebooted after this part of the installation.</p></li>
      <li>
       <p>Running <code>tailscale up</code> prints an authetication URL and then hangs. I copy the URL, then authenticate the Linux machine from my Mac laptop, by pasting it into my browser.</p></li>
     </ol></li>
    <li>
     <p>Enable IP forwarding for Tailscale, see <a href="https://tailscale.com/kb/1103/exit-nodes?tab=linux">the docs</a></p>
     <ul>
      <li>For me this was the following, but do read the docs, it's system dependent: 
       <pre><code class="language-plaintext">% echo 'net.ipv4.ip_forward = 1' | sudo tee -a /etc/sysctl.d/99-tailscale.conf
% echo 'net.ipv6.conf.all.forwarding = 1' | sudo tee -a /etc/sysctl.d/99-tailscale.conf
% sudo sysctl -p /etc/sysctl.d/99-tailscale.conf   
</code></pre></li>
     </ul></li>
    <li>
     <p>Allow my linux box to become an exit node with <code>tailscale up --advertise-exit-node</code></p>
     <ul>
      <li>Note there was no need to do a <code>tailscale down</code> before rerunning <code>tailscale up</code> with the <code>--advertise-exit-node</code> flag</li>
     </ul></li>
    <li>
     <p>On my <a href="https://login.tailscale.com/admin/machines">Tailscale dashboard</a> (link will only work when you're authenticated into Tailscale) my linux box is visitable and is marked as a potential exit node. Click "..." in the entry for the linux box, then "Edit route settings...", and check "Use as exit node."</p></li>
    <li>
     <p>In the Tailscale menu visible in the Mac menu bar when Tailscale is running, go to the "Exit Nodes" submenu, then select the linux box</p></li>
    <li>
     <p>Traffic is now being proxied through the US-located linux machine</p></li>
    <li>
     <p>Since I don't want (for now) to use Tailscale all the time, I turn Tailscale off:</p>
     <ol>
      <li>
       <p>On the linux box <code>tailscale down</code></p></li>
      <li>
       <p>On the Mac, via the Tailscale menu, reset the exit node to "None"</p></li>
      <li>
       <p>Turn the green "Connected" switch to gray "Not Connected"</p></li>
      <li>
       <p>Via the Tailscale menu again, quit the Tailscale app</p></li>
     </ol>
     <p>Hopefully now I am back to ordinary networking.</p></li>
   </ol>
   <p>I think (hope) that at any time, I can rerun the Tailscale app on my Mac, restore the "Not Connected" switch to "Connected", rerun <code>tailscale up --advertise-exit-node</code> on the linux box, then continue from Step 7 above.</p>
   <p>On linux <code>tailscale status</code> will tell you whether <code>tailscale</code> is running. I reboot and check, to ensure Tailscale is not set to start-up on boot.</p>
  </div>
 </div>
 <div class="entry-footer">
  <div class="post-metainfo">
   <hr>
   <div>
    by Steve Randy Waldman on 2025-07-27 @ <a href="https://tech.interfluidity.com/2025/07/27/using-tailscale-to-proxy-traffic-to-the-us/index.html" class="pubtime">07:00 AM EDT</a>
   </div>
  </div>
 </div>
</article>
<div class="after-article">
</div><!-- after-article -->]]>
      </content:encoded>
    </item>
  </channel>
</rss>
